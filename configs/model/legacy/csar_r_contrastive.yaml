model:
  name: "csar-r-contrastive"
  embedding_dim: 64
  # [수정 1] 핵심! 병목을 주어 클러스터링 효과 극대화
  num_interests: 32 # (4 ~ 8 권장)
  # [수정 2] 보조 손실은 아주 은은하게 시작
  contrastive_loss_weight: 0.005
  # [수정 3] 노이즈를 줄여서 원본 정보 보존
  noise_sigma: 0.02
  base_tau: 0.1
  # [수정 4] 적응형 효과를 확실하게 (Sparse 유저 보호)
  alpha: 0.2

# 학습 설정
train:
  epochs: 500
  batch_size: 256
  lr: 0.001
  l2_regularization: 0.0001
  optimizer: "adamw"
  loss_type: "pairwise" # 'pairwise', 'pointwise'
  num_negatives: 1 # For pairwise losses
  negative_sampling_strategy: "uniform" # 'uniform' or 'popularity'
  negative_sampling_alpha: 0.75
  early_stop_patience: 40

# 평가 설정
evaluation:
  validation_method: "sampled" # 검증 시 평가 방법
  final_method: "full" # 최종 평가 시 평가 방법
  metrics: [
      "NDCG",
      "HitRate",
      "Coverage",
      "GiniIndex",
      "LongTailCoverage",
      "Entropy",
      "ILD",
    ] # 평가할 메트릭 리스트
  top_k: [5, 10, 20, 50] # 평가할 K 값 리스트
  main_metric: "NDCG" # 얼리 스톱핑 및 베스트 모델 저장 기준 메트릭
  main_metric_k: 10 # 얼리 스톱핑 및 베스트 모델 저장 기준 메트릭의 K 값
  long_tail_percent: 0.2 # 롱테일 아이템 정의를 위한 비율 (인기도 하위 N%)

# 실행 환경 설정
device: "auto"

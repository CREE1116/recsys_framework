# ReRankWrapper 모델 설정 (LightGCN 기반)
model:
  name: "ReRankWrapper"
  rerank_lambda: 0.7 # 관련성(Relevance)과 다양성(Diversity) 간의 트레이드오프 (0.0 ~ 1.0)
  rerank_top_k: 100 # 초기 후보군 사이즈
  base_model_name: "lightgcn"

  # 아래는 base_model (LightGCN)을 위한 설정입니다.
  base_model_config:
    name: "lightgcn" # 내부 모델 이름도 명시
    embedding_dim: 64
    n_layers: 2

train:
  epochs: 200
  batch_size: 1024
  lr: 0.001
  l2_regularization: 0.00001
  optimizer: "adamw"
  loss_type: "pairwise" # 'pairwise', 'pointwise'
  num_negatives: 1 # For pairwise losses
  negative_sampling_strategy: ["uniform", "popularity"] # 'uniform' or 'popularity'
  negative_sampling_alpha: 0.75
  early_stop_patience: 30

# 학습 및 평가 설정은 base_model의 것을 따르거나 여기서 오버라이드할 수 있습니다.
# 여기서는 LightGCN의 기본 학습 설정을 사용한다고 가정합니다.

evaluation:
  main_metric: "NDCG"
  main_metric_k: 10
  validation_method: "uni99"
  final_method: "full"
  metrics:
    [
      "HitRate",
      "NDCG",
      "Coverage",
      "GiniIndex",
      "LongTailCoverage",
      "Entropy",
      "ILD",
    ]
  top_k: [5, 10, 20]

device: "auto"
